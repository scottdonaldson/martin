<!DOCTYPE HTML>
<html>

<head>

    <title>Martin</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css">

</head>

<body>

    <img id="humph" height="400" width="400" src="images/humphrey.jpg">

    <canvas id="canvas" width="400" height="400"></canvas>

    <script src="js/src/martin.js"></script>

    <script>

    var canvas = new Martin('humph', init);

    function init(canvas) {

        // .background() creates new layer
        /* canvas.rect({
            offsetX: 0,
            offsetY: 240,
            width: 200,
            height: 120,
            color: '#59c'
        }).background('#a5a'); */

        canvas.newLayer().rect({
            offsetX: 0,
            offsetY: 0,
            width: '100%',
            height: '100%',
            color: '#59c'
        }).gradient({
            angle: 45
        });
        // hit "m" to increase gradient
        var opacity = 1;
        window.addEventListener('keydown', function(e) {
            if ( e.keyCode === 77 ) {
                canvas.opacity(opacity);
                opacity -= opacity !== 0 ? 0.1 : 0;
            }
        });
    }

    var drawing = new Martin('canvas', canvasInit);

    function canvasInit(drawing) {

        drawing
            .background('#ccc').background('#936')
            .rect({
                offsetX: 0,
                offsetY: 240,
                width: 200,
                height: 120,
                color: '#59c'
            })
            .polygon([ ['20%', '10%'], ['40%', '40%'], ['20%', '40%'] ], '#fff');

        //drawing.convertToImage();
    }

    </script>
</body>
</html>
