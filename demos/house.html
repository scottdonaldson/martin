<!DOCTYPE HTML>
<html>

<head>

    <title>Martin</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css">
    
</head>

<body>

    <canvas id="canvas"></canvas>

    <script src="../js/src/martin.js"></script>

    <script>

    var unit = 100;

    var colors = {
        grass: '#9c9',
        left: '#c6c6c6',
        right: '#ddd',
        roof: '#999',
        roof_dark: '#888',
        glass: '#89a'
    };

    // 800 x 600 at unit size of 100
    var canvas = new Martin('canvas').width(8 * unit).height(6 * unit).background( colors.grass );

    // Faces always go counterclockwise
    // from bottom left
    var faces = {
        main: {
            left: {
                wall: [
                    [2 * unit, 1.5 * unit],
                    [4 * unit, 0.5 * unit],
                    [4 * unit, 1.5 * unit],
                    [2 * unit, 2.5 * unit]
                ]
            }
        }
    };

    var l = faces.main.left;

    l.roof = [
        l.wall[3],
        l.wall[2],
        [ l.wall[2][0] + unit, l.wall[2][1] + 1.5 * unit ],
        [ l.wall[3][0] + unit, l.wall[3][1] + 1.5 * unit ]
    ];

    faces.main.right = {
        wall: [
            l.wall[1],
            [ l.wall[1][0] + 2 * unit, l.wall[1][1] + unit ]
        ]
    };

    var r = faces.main.right;

    r.wall[2] = [ r.wall[1][0], r.wall[1][1] + unit ];
    r.wall[4] = l.wall[2];
    // The apex of this pentagon is halfway between two x points, and halfway between two y plus the unit
    r.wall[3] = [ ( r.wall[2][0] + r.wall[4][0] ) / 2, ( r.wall[2][1] + r.wall[4][1] ) / 2 + unit ];

    faces.front = {
        left: [
            [ l.wall[0][0] + ( 0.4 * unit ), l.wall[0][1] - ( 0.3 * unit ) ]
        ]
    };

    var fl = faces.front.left;

    fl[1] = [ fl[0][0] + unit, fl[0][1] - 0.5 * unit ];
    fl[2] = [ fl[1][0], fl[1][1] + unit ],
    fl[3] = [ fl[0][0], fl[0][1] + unit ]

    faces.front.right = [
        fl[1],
        [ fl[1][0] + 0.1 * unit, fl[1][1] + 0.05 * unit ]
    ];

    var fr = faces.front.right;

    fr[2] = [ fr[1][0], fr[1][1] + unit ];
    fr[3] = [ fr[2][0] + 0.5 * unit, fr[2][1] + 0.75 * unit ];
    fr[4] = [ fr[0][0], fr[0][1] + unit ];

    faces.front.roof = [
        fl[3],
        fl[2],
        fr[3],
        [ fr[3][0] - unit, fr[3][1] + 0.5 * unit ]
    ];

    faces.back = {
        roof: [
            [ l.roof[3][0] + 0.5 * unit, l.roof[3][1] - 0.25 * unit ]
        ]
    };

    var b = faces.back;

    b.roof[1] = [ b.roof[0][0] + unit, b.roof[0][1] - 0.5 * unit ];
    b.roof[2] = [ b.roof[1][0] + unit, b.roof[1][1] + 0.25 * unit ];
    b.roof[3] = [ b.roof[1][0], b.roof[1][1] + 0.75 * unit ];

    b.wall = [
        [ b.roof[1][0], b.roof[1][1] ]
    ];
    b.wall[1] = [ b.wall[0][0] + unit, b.wall[0][1] - 0.5 * unit ];
    b.wall[2] = [ b.wall[1][0], b.wall[1][1] + 0.75 * unit ]

    faces.protrusion = {
        left: [
            [ r[0][0] + 0.5 * unit, r[0][1] - 0.25 * unit ]
        ]
    };

    var pl = faces.protrusion.left;

    pl[1] = [ pl[0][0] + 0.5 * unit, pl[0][1] - 0.25 * unit ];
    pl[2] = [ pl[1][0], pl[1][1] + unit ];
    pl[3] = [ pl[0][0], pl[0][1] + unit ];

    faces.protrusion.

    // My bedroom
    canvas.polygon( b.roof, {
        color: colors.roof

    }).polygon( b.wall, {
        color: colors.right
    });

    canvas.polygon( l.wall, {
        color: colors.left

    }).polygon( r.wall, {
        color: colors.right

    }).line({ // line to highlight above face
        startX: r.wall[3][0],
        startY: r.wall[3][1],
        endX: r.wall[2][0],
        endY: r.wall[2][1],
        stroke: colors.roof

    }).polygon([ // window
        [410, 95],
        [440, 110],
        [440, 160],
        [410, 145]
    ], {
        color: colors.glass

    }).polygon( l.roof, {
        color: colors.roof

    }).line({ // line to accent roof
        startX: 300,
        endX: 500,
        startY: 400,
        endY: 300,
        stroke: colors.roof_dark

    }).polygon( r.wall, {
        color: colors.right

    }).polygon( l.wall, {
        color: colors.left

    }).line({ // line to give dimension to left face
        startX: 240,
        endX: 240,
        startY: 120,
        endY: 220,
        stroke: colors.roof,
        strokeWidth: 0.5
    }).polygon([ // window on left face extending from main
        [330, 165],
        [250, 205],
        [250, 155],
        [330, 115]
    ],{
        color: colors.glass
    }).polygon([ // roof covering the above projection
        [240, 220],
        [300, 300],
        [400, 250],
        [340, 170]
    ], {
        color: colors.roof
    }).line({ // line to give dimension to above roof
        startX: 240,
        startY: 220,
        endX: 300,
        endY: 300,
        stroke: colors.roof_dark
    });

    // protrusion
    canvas.polygon( fl, {
        color: colors.left

    }).polygon( fr, {
        color: colors.right

    }).line({ // faux roof
        startX: 550,
        startY: 225,
        endX: 600,
        endY: 200,
        stroke: colors.roof,
        strokeWidth: 1
    }).polygon([ // roof
        [450, 175],
        [500, 150],
        [550, 225],
        [500, 250]
    ], {
        color: colors.roof
    }).polygon([
        [460, 110],
        [490, 95],
        [490, 145],
        [460, 160]
    ], {
        color: colors.glass
    });

    canvas.convertToImage();

    </script>

</body>
</html>