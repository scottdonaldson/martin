<!DOCTYPE HTML>
<html>
<head>

    <title>Martin</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css">
    <style>
        body { padding-bottom: 2em; }
        .section { padding: 2em 2em 0; }
        .section p { margin-top: 0; }
    </style>

    <script src="js/dist/martin.js"></script>
    <script src="js/src/martin.gradient.js"></script>
    <script src="js/src/martin.watermark.js"></script>

</head>

<body>
    <div class="section">
        <p>Source Image</p>
        <img id="src" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>Data URL:</p>
        <p style="height: 200px; overflow: hidden;"><a id="to-data-url-output" style="font-weight: bold; overflow: hidden; word-break: break-all;" target="_blank"></a></p>
        <img id="to-data-url" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>New layer, draw circle on that layer</p>
        <p id="new-layer-layer-count" style="font-weight: bold;"></p>
        <img id="new-layer" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>New layer, draw circle on that layer,
        switch to bottom layer, draw rectangle</p>
        <p id="switch-layer-active-layer" style="font-weight: bold;"></p>
        <img id="switch-layer" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>Draw (bright) yellow and blue rectangles on base layer, desaturate to gray scale. Create new layer, draw (bright) red circle, slightly desaturate.</p>
        <img id="desaturate" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>Blur base layer slightly. Create new layer, draw red circle, blur heavily.</p>
        <img id="blur" src="docs/images/marty-full.jpg">
    </div>

    <script>

    var dataURL = Martin('to-data-url');
    document.getElementById('to-data-url-output').innerHTML = dataURL.toDataURL();
    document.getElementById('to-data-url-output').href = dataURL.toDataURL();

    var newLayer = Martin('new-layer');
    newLayer.newLayer();
    newLayer.circle({
        color: '#fff',
        radius: 100,
        x: '50%',
        y: '50%'
    });

    document.getElementById('new-layer-layer-count').innerHTML = 'Layer count: ' + newLayer.layers.length;

    var switchLayer = Martin('switch-layer');
    switchLayer.newLayer();
    switchLayer.circle({
        color: '#fff',
        radius: 100,
        x: '50%',
        y: '50%'
    });
    switchLayer.switchToLayer(0);
    switchLayer.rect({
        color: '#f00',
        width: switchLayer.width(),
        height: 100,
        y: '50%'
    });
    document.getElementById('switch-layer-active-layer').innerHTML = 'Current layer: Layer ' + switchLayer.currentLayerIndex;

    var desaturate = Martin('desaturate');
    desaturate.rect({
        x: 10,
        y: 10,
        width: '50%',
        height: '25%',
        color: '#ff0'
    });
    desaturate.rect({
        x: 40,
        y: 40,
        width: '50%',
        height: '25%',
        color: '#00f'
    });
    desaturate.desaturate(100);
    desaturate.newLayer();
    desaturate.circle({
        x: '50%',
        y: '50%',
        radius: 120,
        color: '#f00'
    });
    desaturate.desaturate(40);

    var blur = Martin('blur');
    blur.blur(6);
    blur.newLayer();
    blur.circle({
        x: '50%',
        y: '50%',
        radius: 120,
        color: '#f00'
    });
    blur.blur(50);

    </script>
</body>
</html>
