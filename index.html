<!DOCTYPE HTML>
<html>
<head>

    <title>Martin</title>

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/normalize/3.0.0/normalize.min.css">
    <style>
        body { padding-bottom: 2em; }
        .section { padding: 2em 2em 0; }
        .section p { margin-top: 0; }
    </style>

    <script src="js/dist/martin.js"></script>
    <script src="js/src/martin.gradient.js"></script>
    <script src="js/src/martin.watermark.js"></script>

</head>

<body>
    <div class="section">
        <p>Source Image</p>
        <img id="src" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>Data URL:</p>
        <p style="height: 200px; overflow: hidden;"><a id="to-data-url-output" style="font-weight: bold; overflow: hidden; word-break: break-all;" target="_blank"></a></p>
        <img id="to-data-url" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>New layer, draw circle on that layer</p>
        <p id="new-layer-layer-count" style="font-weight: bold;"></p>
        <img id="new-layer" src="docs/images/marty-full.jpg">
    </div>

    <div class="section">
        <p>New layer, draw circle on that layer,
        switch to bottom layer, draw rectangle</p>
        <p id="switch-layer-active-layer" style="font-weight: bold;"></p>
        <img id="switch-layer" src="docs/images/marty-full.jpg">
    </div>

    <script>

    Martin('to-data-url', function(canvas) {
        document.getElementById('to-data-url-output').innerHTML = canvas.toDataURL();
        document.getElementById('to-data-url-output').href = canvas.toDataURL();
    });

    Martin('new-layer', function(canvas) {
        canvas.newLayer();
        canvas.circle({
            color: '#fff',
            radius: 100,
            offsetX: '50%',
            offsetY: '50%'
        });

        document.getElementById('new-layer-layer-count').innerHTML = 'Layer count: ' + canvas.layers.length;
    });

    Martin('switch-layer', function(canvas) {
        canvas.newLayer();
        canvas.circle({
            color: '#fff',
            radius: 100,
            offsetX: '50%',
            offsetY: '50%'
        });
        canvas.switchToLayer(0);
        canvas.rect({
            color: '#f00',
            width: canvas.width(),
            height: 100,
            offsetY: '50%'
        });
        document.getElementById('switch-layer-active-layer').innerHTML = 'Current layer: Layer ' + canvas.currentLayerIndex;
    });

    </script>
</body>
</html>
